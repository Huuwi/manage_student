<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨ Student List ✨</title>
    <link rel="stylesheet" href="./style/table.css">
</head>

<body>
    <div class="container">
        <div class="table-container">
            <table>
                <thead>
                    <tr id="myTr">
                        <th>ID</th>
                        <th>Full Name</th>
                        <th>Address</th>
                        <th>YOB</th>
                        <th>Subject Name</th>
                        <th>Subject ID</th>
                        <th>Tx1</th>
                        <th>Tx2</th>
                        <th>Final Grade</th>
                    </tr>
                </thead>
                <tbody id="table-body">

                </tbody>
            </table>
        </div>

        <br></br>

        <script>
            async function sendData() {
                // console.log(await fetch('http://localhost:3000/table/get_table_data').then(response => response.json()));
                let exe = await fetch('http://localhost:3000/table/get_table_data').then(response => response.json()).then(data => {
                    const tBody = document.getElementById("table-body");

                    data.forEach(row => {
                        const newTr = document.createElement("tr");
                        for (const key in row) {
                            if (row.hasOwnProperty(key)) {
                                const newTd = document.createElement("td");
                                if (row[key] == null) {
                                    newTd.textContent = "--";
                                }
                                else {
                                    newTd.textContent = row[key];
                                }
                                newTr.appendChild(newTd);
                            }
                        }
                        tBody.appendChild(newTr);
                    })
                }).catch(error => console.error('Lỗi:', error));
            }

            sendData();
        </script>

        <form action="/" method="get" class="myForm">
            <!-- <button type="submit">BACK TO HOMEPAGE</button> -->
            <button class="button-89" role="button">BACK TO HOMEPAGE</button>
        </form>


    </div>
</body>

</html>